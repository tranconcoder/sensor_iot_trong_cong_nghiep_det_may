[1/12] Performing build step for 'bootloader'
[1/1] cd /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/build/bootloader/esp-idf/esptool_py && /home/tvconss/.espressif/python_env/idf5.3_py3.12_env/bin/python /home/tvconss/esp/esp-idf/components/partition_table/check_sizes.py --offset 0x8000 bootloader 0x1000 /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/build/bootloader/bootloader.bin
Bootloader binary size 0x6720 bytes. 0x8e0 bytes (8%) free.
[2/12] No install step for 'bootloader'
[3/12] Building C object esp-idf/setup_esp_websocket_client/CMakeFiles/__idf_setup_esp_websocket_client.dir/setup_esp_websocket_client.c.obj
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp_websocket_client/setup_esp_websocket_client.c: In function 'task_send_image_to_websocket':
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp_websocket_client/setup_esp_websocket_client.c:53:18: warning: unused variable 'img_byte_len' [-Wunused-variable]
   53 |           size_t img_byte_len = fb->len;
      |                  ^~~~~~~~~~~~
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp_websocket_client/setup_esp_websocket_client.c: In function 'setup_esp_websocket_client_init':
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp_websocket_client/setup_esp_websocket_client.c:73:10: warning: passing argument 1 of 'xTaskCreatePinnedToCore' from incompatible pointer type [-Wincompatible-pointer-types]
   73 |          task_send_image_to_websocket,
      |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |          |
      |          void (*)(struct esp_websocket_client *)
In file included from /home/tvconss/esp/esp-idf/components/freertos/esp_additions/include/freertos/idf_additions.h:20,
                 from /home/tvconss/esp/esp-idf/components/freertos/FreeRTOS-Kernel/include/freertos/FreeRTOS.h:1533,
                 from /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/components/esp-websocket_client/include/esp_websocket_client.h:14,
                 from /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp_websocket_client/include/setup_esp_websocket_client.h:1,
                 from /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp_websocket_client/setup_esp_websocket_client.c:1:
/home/tvconss/esp/esp-idf/components/freertos/FreeRTOS-Kernel/include/freertos/task.h:382:67: note: expected 'TaskFunction_t' {aka 'void (*)(void *)'} but argument is of type 'void (*)(struct esp_websocket_client *)'
  382 |         extern BaseType_t xTaskCreatePinnedToCore( TaskFunction_t pxTaskCode,
      |                                                    ~~~~~~~~~~~~~~~^~~~~~~~~~
In file included from /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp_websocket_client/include/setup_esp_websocket_client.h:2:
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp32_cam/include/setup_esp32_cam.h: At top level:
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp32_cam/include/setup_esp32_cam.h:28:18: warning: 'init_camera' declared 'static' but never defined [-Wunused-function]
   28 | static esp_err_t init_camera(void);
      |                  ^~~~~~~~~~~
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp32_cam/include/setup_esp32_cam.h:26:13: warning: 'camera_init_done' defined but not used [-Wunused-variable]
   26 | static bool camera_init_done;
      |             ^~~~~~~~~~~~~~~~
[4/12] Completed 'bootloader'
[5/12] Linking C static library esp-idf/setup_esp_websocket_client/libsetup_esp_websocket_client.a
[6/12] Building C object esp-idf/main/CMakeFiles/__idf_main.dir/esp32cam_security_gate.c.obj
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/esp32cam_security_gate.c: In function 'tag_scanned_cb':
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/esp32cam_security_gate.c:267:9: warning: passing argument 1 of 'xTaskCreatePinnedToCore' from incompatible pointer type [-Wincompatible-pointer-types]
  267 |         task_auth_rfid_serial_number,
      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |         |
      |         void (*)(uint64_t) {aka void (*)(long long unsigned int)}
In file included from /home/tvconss/esp/esp-idf/components/freertos/esp_additions/include/freertos/idf_additions.h:20,
                 from /home/tvconss/esp/esp-idf/components/freertos/FreeRTOS-Kernel/include/freertos/FreeRTOS.h:1533,
                 from /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/esp32cam_security_gate.c:2:
/home/tvconss/esp/esp-idf/components/freertos/FreeRTOS-Kernel/include/freertos/task.h:382:67: note: expected 'TaskFunction_t' {aka 'void (*)(void *)'} but argument is of type 'void (*)(uint64_t)' {aka 'void (*)(long long unsigned int)'}
  382 |         extern BaseType_t xTaskCreatePinnedToCore( TaskFunction_t pxTaskCode,
      |                                                    ~~~~~~~~~~~~~~~^~~~~~~~~~
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/esp32cam_security_gate.c:270:9: warning: passing argument 4 of 'xTaskCreatePinnedToCore' makes pointer from integer without a cast [-Wint-conversion]
  270 |         serial_number,
      |         ^~~~~~~~~~~~~
      |         |
      |         uint64_t {aka long long unsigned int}
/home/tvconss/esp/esp-idf/components/freertos/FreeRTOS-Kernel/include/freertos/task.h:385:65: note: expected 'void * const' but argument is of type 'uint64_t' {aka 'long long unsigned int'}
  385 |                                                    void * const pvParameters,
      |                                                    ~~~~~~~~~~~~~^~~~~~~~~~~~
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/esp32cam_security_gate.c:272:9: warning: passing argument 6 of 'xTaskCreatePinnedToCore' from incompatible pointer type [-Wincompatible-pointer-types]
  272 |         pv_task_auth_rfid_serial_number,
      |         ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
      |         |
      |         TaskHandle_t {aka struct tskTaskControlBlock *}
/home/tvconss/esp/esp-idf/components/freertos/FreeRTOS-Kernel/include/freertos/task.h:387:73: note: expected 'struct tskTaskControlBlock ** const' but argument is of type 'TaskHandle_t' {aka 'struct tskTaskControlBlock *'}
  387 |                                                    TaskHandle_t * const pvCreatedTask,
      |                                                    ~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/esp32cam_security_gate.c: In function 'app_main':
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/esp32cam_security_gate.c:296:95: warning: passing argument 4 of 'xTimerCreate' makes pointer from integer without a cast [-Wint-conversion]
  296 |     TimerHandle_t timer = xTimerCreate("print_system_info", 10000 / portTICK_PERIOD_MS, true, 2, print_system_info_timercb);
      |                                                                                               ^
      |                                                                                               |
      |                                                                                               int
In file included from /home/tvconss/esp/esp-idf/components/freertos/FreeRTOS-Kernel/include/freertos/event_groups.h:41,
                 from /home/tvconss/esp/esp-idf/components/freertos/esp_additions/include/freertos/idf_additions.h:25:
/home/tvconss/esp/esp-idf/components/freertos/FreeRTOS-Kernel/include/freertos/timers.h:237:46: note: expected 'void * const' but argument is of type 'int'
  237 |                                 void * const pvTimerID,
      |                                 ~~~~~~~~~~~~~^~~~~~~~~
In file included from /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp_websocket_client/include/setup_esp_websocket_client.h:2,
                 from /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/esp32cam_security_gate.c:23:
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp32_cam/include/setup_esp32_cam.h: At top level:
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp32_cam/include/setup_esp32_cam.h:28:18: warning: 'init_camera' declared 'static' but never defined [-Wunused-function]
   28 | static esp_err_t init_camera(void);
      |                  ^~~~~~~~~~~
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/esp32cam_security_gate.c:35:12: warning: array 'howsmyssl_com_root_cert_pem_start' assumed to have one element
   35 | const char howsmyssl_com_root_cert_pem_start[] asm("_binary_howsmyssl_com_root_cert_pem_start");
      |            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp_websocket_client/include/setup_esp_websocket_client.h:9:13: warning: 'websocket_connecting' defined but not used [-Wunused-variable]
    9 | static bool websocket_connecting;
      |             ^~~~~~~~~~~~~~~~~~~~
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_esp32_cam/include/setup_esp32_cam.h:26:13: warning: 'camera_init_done' defined but not used [-Wunused-variable]
   26 | static bool camera_init_done;
      |             ^~~~~~~~~~~~~~~~
In file included from /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/esp32cam_security_gate.c:19:
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_rc522/include/setup_rc522.h:6:20: warning: 'SETUP_RC522_TAG' defined but not used [-Wunused-variable]
    6 | static const char *SETUP_RC522_TAG;
      |                    ^~~~~~~~~~~~~~~
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/components/setup_rc522/include/setup_rc522.h:5:23: warning: 'scanner' defined but not used [-Wunused-variable]
    5 | static rc522_handle_t scanner;
      |                       ^~~~~~~
In file included from /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/managed_components/espressif__mesh_lite/include/esp_mesh_lite.h:16,
                 from /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/main/esp32cam_security_gate.c:8:
/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/managed_components/espressif__mesh_lite/include/esp_mesh_lite_espnow.h:16:16: warning: 's_broadcast_mac' defined but not used [-Wunused-variable]
   16 | static uint8_t s_broadcast_mac[ESP_NOW_ETH_ALEN] = { 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF };
      |                ^~~~~~~~~~~~~~~
[7/12] Linking C static library esp-idf/main/libmain.a
[8/12] Generating ld/sections.ld
warning: the int symbol BRIDGE_SOFTAP_MAX_CONNECT_NUMBER (defined at /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/managed_components/espressif__iot_bridge/Kconfig:108) has a non-int default BRIDGE_CUSTOM_MAX_CONNECT_NUMBER (undefined)
[9/12] Linking CXX executable mesh_local_control.elf
[10/12] Generating binary image from built executable
esptool.py v4.8.dev4
Creating esp32 image...
Merged 2 ELF sections
Successfully created esp32 image.
Generated /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/build/mesh_local_control.bin
[11/12] cd /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/build/esp-idf/esptool_py && /home/tvconss/.espressif/python_env/idf5.3_py3.12_env/bin/python /home/tvconss/esp/esp-idf/components/partition_table/check_sizes.py --offset 0x8000 partition --type app /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/build/partition_table/partition-table.bin /home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/build/mesh_local_control.bin
mesh_local_control.bin binary size 0x112200 bytes. Smallest app partition is 0x1e0000 bytes. 0xcde00 bytes (43%) free.
[11/12] cd /home/tvconss/esp/esp-idf/components/esptool_py && /usr/bin/cmake -D IDF_PATH=/home/tvconss/esp/esp-idf -D "SERIAL_TOOL=/home/tvconss/.espressif/python_env/idf5.3_py3.12_env/bin/python;;/home/tvconss/esp/esp-idf/components/esptool_py/esptool/esptool.py;--chip;esp32" -D "SERIAL_TOOL_ARGS=--before=default_reset;--after=hard_reset;write_flash;@flash_args" -D WORKING_DIRECTORY=/home/tvconss/Workspace/sensor_iot_trong_cong_nghiep_det_may/esp-idf/esp32cam_security_gate/build -P /home/tvconss/esp/esp-idf/components/esptool_py/run_serial_tool.cmake
esptool.py --chip esp32 -p /dev/ttyUSB1 -b 460800 --before=default_reset --after=hard_reset write_flash --flash_mode dio --flash_freq 40m --flash_size 4MB 0x1000 bootloader/bootloader.bin 0x10000 mesh_local_control.bin 0x8000 partition_table/partition-table.bin 0xd000 ota_data_initial.bin
esptool.py v4.8.dev4
Serial port /dev/ttyUSB1
Connecting.....
Chip is ESP32-D0WD-V3 (revision v3.1)
Features: WiFi, BT, Dual Core, 240MHz, VRef calibration in efuse, Coding Scheme None
Crystal is 40MHz
MAC: 08:a6:f7:11:51:a8
Uploading stub...
Running stub...
Stub running...
Changing baud rate to 460800
Changed.
Configuring flash size...
Flash will be erased from 0x00001000 to 0x00007fff...
Flash will be erased from 0x00010000 to 0x00122fff...
Flash will be erased from 0x00008000 to 0x00008fff...
Flash will be erased from 0x0000d000 to 0x0000efff...
SHA digest in image updated
Compressed 26400 bytes to 16221...
Writing at 0x00001000... (100 %)
Wrote 26400 bytes (16221 compressed) at 0x00001000 in 0.5 seconds (effective 416.5 kbit/s)...
Hash of data verified.
Compressed 1122816 bytes to 691507...
Writing at 0x00010000... (2 %)
Writing at 0x0001d8f9... (4 %)
Writing at 0x00029686... (6 %)
Writing at 0x0002fec8... (9 %)
Writing at 0x00035093... (11 %)
Writing at 0x0003fdd6... (13 %)
Writing at 0x00045b61... (16 %)
Writing at 0x0004bcb1... (18 %)
Writing at 0x000511af... (20 %)
Writing at 0x00056ef3... (23 %)
Writing at 0x0005ecb3... (25 %)
Writing at 0x000648a0... (27 %)
Writing at 0x0006aa66... (30 %)
Writing at 0x00070804... (32 %)
Writing at 0x000767fb... (34 %)
Writing at 0x0007c98d... (37 %)
Writing at 0x000827e8... (39 %)
Writing at 0x00088b90... (41 %)
Writing at 0x0008e757... (44 %)
Writing at 0x0009471f... (46 %)
Writing at 0x0009acd4... (48 %)
Writing at 0x000a0d3a... (51 %)
Writing at 0x000a6b7e... (53 %)
Writing at 0x000ac023... (55 %)
Writing at 0x000b121e... (58 %)
Writing at 0x000b697f... (60 %)
Writing at 0x000bc191... (62 %)
Writing at 0x000c14f0... (65 %)
Writing at 0x000c6a53... (67 %)
Writing at 0x000cc531... (69 %)
Writing at 0x000d215c... (72 %)
Writing at 0x000d7eb6... (74 %)
Writing at 0x000ddcc0... (76 %)
Writing at 0x000e3807... (79 %)
Writing at 0x000e946f... (81 %)
Writing at 0x000f3c0d... (83 %)
Writing at 0x000fc2b9... (86 %)
Writing at 0x00101de5... (88 %)
Writing at 0x00109cf9... (90 %)
Writing at 0x0010f766... (93 %)
Writing at 0x00115545... (95 %)
Writing at 0x0011b7b7... (97 %)
Writing at 0x00120bc3... (100 %)
Wrote 1122816 bytes (691507 compressed) at 0x00010000 in 15.6 seconds (effective 575.8 kbit/s)...
Hash of data verified.
Compressed 3072 bytes to 162...
Writing at 0x00008000... (100 %)
Wrote 3072 bytes (162 compressed) at 0x00008000 in 0.0 seconds (effective 1347.4 kbit/s)...
Hash of data verified.
Compressed 8192 bytes to 31...
Writing at 0x0000d000... (100 %)
Wrote 8192 bytes (31 compressed) at 0x0000d000 in 0.0 seconds (effective 2627.8 kbit/s)...
Hash of data verified.

Leaving...
Hard resetting via RTS pin...
